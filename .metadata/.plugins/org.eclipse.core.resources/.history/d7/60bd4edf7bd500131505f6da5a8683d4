package com.ogtime.clinicplus.dao.implement;

import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;

import com.ogtime.clinicplus.dao.IConsultationDAO;
import com.ogtime.clinicplus.entities.Clinique;
import com.ogtime.clinicplus.entities.Consultation;

public class ConsultationDAOImpl implements IConsultationDAO{
	
	@PersistenceContext
	private EntityManager em;

	@Override
	public void ajouterConsultation(Consultation consultation) {
		em.persist(clinique);
		
	}

	@Override
	public void modifierConsultation() {
		em.merge(getClinique());
		
	}

	@Override
	public Consultation getConsultation(long idConsultation) {
		return em.find(Clinique.class, idClinique);
	}

	@Override
	public void supprimerConsultation(long idConsultation) {
		Clinique clinique=em.find(Clinique.class, idClinique);
		em.remove(clinique);
		
	}

	@Override
	public List<Consultation> getConsultation() {
		Query req = em.createQuery("select c from Clinique c");
		return req.getResultList();
	}

}
